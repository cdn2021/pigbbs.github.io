<meta charset="utf-8">
<title>猪猪留言板 - 注册</title>
<script src=/js/head.js></script>
<style>
body {width:640px}
  </style>
<center><pre>
<input type=text placeholder=用户名 id=username maxlength=24 style="width:600px;height:120px;font-size:60px">
<input type=password placeholder=密码 id=password maxlength=16 style="width:600px;height:120px;font-size:60px">
<input type=password placeholder=确认你的密码 id=password2 maxlength=16 style="width:600px;height:120px;font-size:60px">
<div style="font-size:40px">
<span onclick="register()" style="color:red">注册</span>|<span onclick="gologin()" style="color:blue">登录</span>
<input type=checkbox onclick=sessionStorage.setItem('p',true); style="width:40px;height:40px">记住密码
</div>
<script>
var boo = false;
setInterval(function(){
  if (sessionStorage.getItem('p') != null)
  {
    boo = !boo;
    sessionStorage.removeItem("p");
    //判断记住密码是否被点击
  }
},200);

function gologin()
{
  var hash = location.hash;
  location.href = "./" + hash;
}
function register(){
var username = document.getElementById("username").value;
var password = document.getElementById("password").value;
var password2 = document.getElementById("password2").value;
if (password != password2)
{
  alert("密码与验证密码不符");
  return;
}
if (password.length > 16 || password.length < 8 || username.length > 24 || username.length < 8)
{
  alert("密码或用户名过短");
  return;
}
sessionStorage.setItem("pre-username",username);
sessionStorage.setItem("pre-password",password);
    if (boo)
  {
    localStorage.setItem("pre-username",document.getElementById("username").value);
    localStorage.setItem("pre-password",document.getElementById("password").value);
  } else {
    localStorage.removeItem("pre-username");
    localStorage.removeItem("pre-password");
  }
  //保存用户名和密码
sessionStorage.removeItem("captcha");
location.href = "save-register.html" + location.hash;
  //重定向URL
}
</script>
